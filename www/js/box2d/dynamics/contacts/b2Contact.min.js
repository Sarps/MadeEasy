var b2Contact=Class.create();b2Contact.prototype={GetManifolds:function(){return null},GetManifoldCount:function(){return this.m_manifoldCount},GetNext:function(){return this.m_next},GetShape1:function(){return this.m_shape1},GetShape2:function(){return this.m_shape2},initialize:function(t,e){return this.m_node1=new b2ContactNode,this.m_node2=new b2ContactNode,this.m_flags=0,t&&e?(this.m_shape1=t,this.m_shape2=e,this.m_manifoldCount=0,this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction),this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution),this.m_prev=null,this.m_next=null,this.m_node1.contact=null,this.m_node1.prev=null,this.m_node1.next=null,this.m_node1.other=null,this.m_node2.contact=null,this.m_node2.prev=null,this.m_node2.next=null,void(this.m_node2.other=null)):(this.m_shape1=null,void(this.m_shape2=null))},Evaluate:function(){},m_flags:0,m_prev:null,m_next:null,m_node1:new b2ContactNode,m_node2:new b2ContactNode,m_shape1:null,m_shape2:null,m_manifoldCount:0,m_friction:null,m_restitution:null},b2Contact.e_islandFlag=1,b2Contact.e_destroyFlag=2,b2Contact.AddType=function(t,e,n,a){b2Contact.s_registers[n][a].createFcn=t,b2Contact.s_registers[n][a].destroyFcn=e,b2Contact.s_registers[n][a].primary=!0,n!=a&&(b2Contact.s_registers[a][n].createFcn=t,b2Contact.s_registers[a][n].destroyFcn=e,b2Contact.s_registers[a][n].primary=!1)},b2Contact.InitializeRegisters=function(){b2Contact.s_registers=new Array(b2Shape.e_shapeTypeCount);for(var t=0;t<b2Shape.e_shapeTypeCount;t++){b2Contact.s_registers[t]=new Array(b2Shape.e_shapeTypeCount);for(var e=0;e<b2Shape.e_shapeTypeCount;e++)b2Contact.s_registers[t][e]=new b2ContactRegister}b2Contact.AddType(b2CircleContact.Create,b2CircleContact.Destroy,b2Shape.e_circleShape,b2Shape.e_circleShape),b2Contact.AddType(b2PolyAndCircleContact.Create,b2PolyAndCircleContact.Destroy,b2Shape.e_polyShape,b2Shape.e_circleShape),b2Contact.AddType(b2PolyContact.Create,b2PolyContact.Destroy,b2Shape.e_polyShape,b2Shape.e_polyShape)},b2Contact.Create=function(t,e,n){0==b2Contact.s_initialized&&(b2Contact.InitializeRegisters(),b2Contact.s_initialized=!0);var a=t.m_type,o=e.m_type,i=b2Contact.s_registers[a][o].createFcn;if(i){if(b2Contact.s_registers[a][o].primary)return i(t,e,n);for(var s=i(e,t,n),r=0;r<s.GetManifoldCount();++r){var _=s.GetManifolds()[r];_.normal=_.normal.Negative()}return s}return null},b2Contact.Destroy=function(t,e){t.GetManifoldCount()>0&&(t.m_shape1.m_body.WakeUp(),t.m_shape2.m_body.WakeUp());var n=t.m_shape1.m_type,a=t.m_shape2.m_type,o=b2Contact.s_registers[n][a].destroyFcn;o(t,e)},b2Contact.s_registers=null,b2Contact.s_initialized=!1;