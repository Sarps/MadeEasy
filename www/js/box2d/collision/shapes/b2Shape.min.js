var b2Shape=Class.create();b2Shape.prototype={TestPoint:function(){return!1},GetUserData:function(){return this.m_userData},GetType:function(){return this.m_type},GetBody:function(){return this.m_body},GetPosition:function(){return this.m_position},GetRotationMatrix:function(){return this.m_R},ResetProxy:function(){},GetNext:function(){return this.m_next},initialize:function(t,e){this.m_R=new b2Mat22,this.m_position=new b2Vec2,this.m_userData=t.userData,this.m_friction=t.friction,this.m_restitution=t.restitution,this.m_body=e,this.m_proxyId=b2Pair.b2_nullProxy,this.m_maxRadius=0,this.m_categoryBits=t.categoryBits,this.m_maskBits=t.maskBits,this.m_groupIndex=t.groupIndex},DestroyProxy:function(){this.m_proxyId!=b2Pair.b2_nullProxy&&(this.m_body.m_world.m_broadPhase.DestroyProxy(this.m_proxyId),this.m_proxyId=b2Pair.b2_nullProxy)},Synchronize:function(){},QuickSync:function(){},Support:function(){},GetMaxRadius:function(){return this.m_maxRadius},m_next:null,m_R:new b2Mat22,m_position:new b2Vec2,m_type:0,m_userData:null,m_body:null,m_friction:null,m_restitution:null,m_maxRadius:null,m_proxyId:0,m_categoryBits:0,m_maskBits:0,m_groupIndex:0},b2Shape.Create=function(t,e,n){switch(t.type){case b2Shape.e_circleShape:return new b2CircleShape(t,e,n);case b2Shape.e_boxShape:case b2Shape.e_polyShape:return new b2PolyShape(t,e,n)}return null},b2Shape.Destroy=function(t){t.m_proxyId!=b2Pair.b2_nullProxy&&t.m_body.m_world.m_broadPhase.DestroyProxy(t.m_proxyId)},b2Shape.e_unknownShape=-1,b2Shape.e_circleShape=0,b2Shape.e_boxShape=1,b2Shape.e_polyShape=2,b2Shape.e_meshShape=3,b2Shape.e_shapeTypeCount=4,b2Shape.PolyMass=function(t,e,n,r){var i=new b2Vec2;i.SetZero();for(var o=0,a=0,s=new b2Vec2(0,0),u=1/3,h=0;n>h;++h){var _=s,p=e[h],m=n>h+1?e[h+1]:e[0],b=b2Math.SubtractVV(p,_),y=b2Math.SubtractVV(m,_),c=b2Math.b2CrossVV(b,y),l=.5*c;o+=l;var x=new b2Vec2;x.SetV(_),x.Add(p),x.Add(m),x.Multiply(u*l),i.Add(x);var S=_.x,d=_.y,f=b.x,P=b.y,w=y.x,V=y.y,I=u*(.25*(f*f+w*f+w*w)+(S*f+S*w))+.5*S*S,M=u*(.25*(P*P+V*P+V*V)+(d*P+d*V))+.5*d*d;a+=c*(I+M)}t.mass=r*o,i.Multiply(1/o),t.center=i,a=r*(a-o*b2Math.b2Dot(i,i)),t.I=a},b2Shape.PolyCentroid=function(t,e,n){for(var r=0,i=0,o=0,a=0,s=0,u=1/3,h=0;e>h;++h){var _=a,p=s,m=t[h].x,b=t[h].y,y=e>h+1?t[h+1].x:t[0].x,c=e>h+1?t[h+1].y:t[0].y,l=m-_,x=b-p,S=y-_,d=c-p,f=l*d-x*S,P=.5*f;o+=P,r+=P*u*(_+m+y),i+=P*u*(p+b+c)}r*=1/o,i*=1/o,n.Set(r,i)};