var b2CircleShape=Class.create();Object.extend(b2CircleShape.prototype,b2Shape.prototype),Object.extend(b2CircleShape.prototype,{TestPoint:function(i){var t=new b2Vec2;return t.SetV(i),t.Subtract(this.m_position),b2Math.b2Dot(t,t)<=this.m_radius*this.m_radius},initialize:function(i,t,o){this.m_R=new b2Mat22,this.m_position=new b2Vec2,this.m_userData=i.userData,this.m_friction=i.friction,this.m_restitution=i.restitution,this.m_body=t,this.m_proxyId=b2Pair.b2_nullProxy,this.m_maxRadius=0,this.m_categoryBits=i.categoryBits,this.m_maskBits=i.maskBits,this.m_groupIndex=i.groupIndex,this.m_localPosition=new b2Vec2;var s=i;this.m_localPosition.Set(i.localPosition.x-o.x,i.localPosition.y-o.y),this.m_type=b2Shape.e_circleShape,this.m_radius=s.radius,this.m_R.SetM(this.m_body.m_R);var m=this.m_R.col1.x*this.m_localPosition.x+this.m_R.col2.x*this.m_localPosition.y,h=this.m_R.col1.y*this.m_localPosition.x+this.m_R.col2.y*this.m_localPosition.y;this.m_position.x=this.m_body.m_position.x+m,this.m_position.y=this.m_body.m_position.y+h,this.m_maxRadius=Math.sqrt(m*m+h*h)+this.m_radius;var _=new b2AABB;_.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius),_.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius);var a=this.m_body.m_world.m_broadPhase;this.m_proxyId=a.InRange(_)?a.CreateProxy(_,this):b2Pair.b2_nullProxy,this.m_proxyId==b2Pair.b2_nullProxy&&this.m_body.Freeze()},Synchronize:function(i,t,o,s){if(this.m_R.SetM(s),this.m_position.x=s.col1.x*this.m_localPosition.x+s.col2.x*this.m_localPosition.y+o.x,this.m_position.y=s.col1.y*this.m_localPosition.x+s.col2.y*this.m_localPosition.y+o.y,this.m_proxyId!=b2Pair.b2_nullProxy){var m=i.x+(t.col1.x*this.m_localPosition.x+t.col2.x*this.m_localPosition.y),h=i.y+(t.col1.y*this.m_localPosition.x+t.col2.y*this.m_localPosition.y),_=Math.min(m,this.m_position.x),a=Math.min(h,this.m_position.y),r=Math.max(m,this.m_position.x),n=Math.max(h,this.m_position.y),e=new b2AABB;e.minVertex.Set(_-this.m_radius,a-this.m_radius),e.maxVertex.Set(r+this.m_radius,n+this.m_radius);var l=this.m_body.m_world.m_broadPhase;l.InRange(e)?l.MoveProxy(this.m_proxyId,e):this.m_body.Freeze()}},QuickSync:function(i,t){this.m_R.SetM(t),this.m_position.x=t.col1.x*this.m_localPosition.x+t.col2.x*this.m_localPosition.y+i.x,this.m_position.y=t.col1.y*this.m_localPosition.x+t.col2.y*this.m_localPosition.y+i.y},ResetProxy:function(i){if(this.m_proxyId!=b2Pair.b2_nullProxy){var t=i.GetProxy(this.m_proxyId);i.DestroyProxy(this.m_proxyId),t=null;var o=new b2AABB;o.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius),o.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius),this.m_proxyId=i.InRange(o)?i.CreateProxy(o,this):b2Pair.b2_nullProxy,this.m_proxyId==b2Pair.b2_nullProxy&&this.m_body.Freeze()}},Support:function(i,t,o){var s=Math.sqrt(i*i+t*t);i/=s,t/=s,o.Set(this.m_position.x+this.m_radius*i,this.m_position.y+this.m_radius*t)},m_localPosition:new b2Vec2,m_radius:null});